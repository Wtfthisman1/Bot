# üîß –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ TelegramBot - –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ "God Class"

## üìä **–ü—Ä–æ–±–ª–µ–º–∞**

–ö–ª–∞—Å—Å `TelegramBot` —Å—Ç–∞–ª —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–∏–º (436 —Å—Ç—Ä–æ–∫) –∏ –Ω–∞—Ä—É—à–∞–ª –ø—Ä–∏–Ω—Ü–∏–ø –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ (Single Responsibility Principle). –û–Ω –≤—ã–ø–æ–ª–Ω—è–ª –º–Ω–æ–∂–µ—Å—Ç–≤–æ –∑–∞–¥–∞—á:

- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥ (5 –º–µ—Ç–æ–¥–æ–≤)
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ (4 –º–µ—Ç–æ–¥–∞ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ —Ñ–∞–π–ª–æ–≤)
- ‚úÖ –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π (3 –º–µ—Ç–æ–¥–∞)
- ‚úÖ –°–∫–∞—á–∏–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ (4 –º–µ—Ç–æ–¥–∞)
- ‚úÖ –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ URL (2 –º–µ—Ç–æ–¥–∞)
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–∞–π–ª–æ–≤ (1 –º–µ—Ç–æ–¥)

## üéØ **–†–µ—à–µ–Ω–∏–µ**

–†–∞–∑–¥–µ–ª–∏–ª–∏ `TelegramBot` –Ω–∞ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–ª–∞—Å—Å—ã:

### **1. MessageHandler** - –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π
**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å:** –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ç–∏–ø–æ–≤ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

```java
@Service
public class MessageHandler {
    // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
    public void handleText(long chatId, String text, String name)
    
    // –û–±—Ä–∞–±–æ—Ç–∫–∞ –≥–æ–ª–æ—Å–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
    public void handleVoice(long chatId, Voice voice, String name)
    
    // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∞—É–¥–∏–æ —Ñ–∞–π–ª–æ–≤
    public void handleAudio(long chatId, Audio audio, String name)
    
    // –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤–∏–¥–µ–æ —Ñ–∞–π–ª–æ–≤
    public void handleVideo(long chatId, Video video, String name)
    
    // –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
    public void handleDocument(long chatId, Document document, String name)
    
    // –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ URL –∏–∑ —Ç–µ–∫—Å—Ç–∞
    private List<String> extractUrls(String text)
    
    // –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–∞–π–ª–æ–≤
    private boolean isVideoFile(String fileName)
}
```

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –≤—Å–µ —Ç–∏–ø—ã –∫–æ–Ω—Ç–µ–Ω—Ç–∞ (—Ç–µ–∫—Å—Ç, –≥–æ–ª–æ—Å, –∞—É–¥–∏–æ, –≤–∏–¥–µ–æ, –¥–æ–∫—É–º–µ–Ω—Ç—ã)
- –ò–∑–≤–ª–µ–∫–∞–µ—Ç —Å—Å—ã–ª–∫–∏ –∏–∑ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
- –í–∞–ª–∏–¥–∏—Ä—É–µ—Ç —Ç–∏–ø—ã —Ñ–∞–π–ª–æ–≤
- –ó–∞–ø—É—Å–∫–∞–µ—Ç –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É

### **2. CommandHandler** - –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥
**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å:** –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥ –±–æ—Ç–∞

```java
@Service
public class CommandHandler {
    // –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Å–µ—Ö –∫–æ–º–∞–Ω–¥
    public void handleCommand(long chatId, String text, String name)
    
    // –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
    private void sendWelcomeMessage(long chatId, String name)
    
    // –°–ø—Ä–∞–≤–∫–∞
    private void sendHelpMessage(long chatId)
    
    // –ö–æ–º–∞–Ω–¥–∞ –∑–∞–≥—Ä—É–∑–∫–∏
    private void uploadCommand(long chatId)
    
    // –°—Ç–∞—Ç—É—Å –æ–±—Ä–∞–±–æ—Ç–∫–∏
    private void statusCommand(long chatId)
    
    // –°–ø–∏—Å–æ–∫ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–π
    private void transcriptsCommand(long chatId)
}
```

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –≤—Å–µ –∫–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞ (`/start`, `/help`, `/upload`, `/status`, `/transcripts`)
- –§–æ—Ä–º–∏—Ä—É–µ—Ç –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –∏ —Å–ø—Ä–∞–≤–∫–∏
- –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å—Å—ã–ª–∫–∏ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤

### **3. MessageSender** - –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π
**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å:** –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –≤ Telegram

```java
@Service
public class MessageSender {
    // –û—Ç–ø—Ä–∞–≤–∫–∞ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
    public void sendMessage(long chatId, String text)
    public void sendMessage(long chatId, String text, String parseMode)
    
    // –û—Ç–ø—Ä–∞–≤–∫–∞ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–π
    public void sendTranscript(long chatId, Path txt)
    
    // –ü–æ–∫–∞–∑ –¥–µ–π—Å—Ç–≤–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    public void sendChatAction(long chatId, String action)
}
```

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ç–µ–∫—Å—Ç–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è —Å —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º
- –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ñ–∞–π–ª—ã —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–π
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –¥–µ–π—Å—Ç–≤–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (typing, upload_document)
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è Telegram (–ª–∏–º–∏—Ç 4096 —Å–∏–º–≤–æ–ª–æ–≤)

### **4. TelegramFileDownloader** - –°–∫–∞—á–∏–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤
**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å:** –°–∫–∞—á–∏–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –∏–∑ Telegram API

```java
@Service
public class TelegramFileDownloader {
    // –°–∫–∞—á–∏–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤
    public Path downloadFile(String fileId, long chatId, String originalName)
    
    // –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã
    public Path downloadVoice(String fileId, long chatId)
    public Path downloadAudio(String fileId, long chatId, String originalName)
    public Path downloadVideo(String fileId, long chatId, String originalName)
    public Path downloadDocument(String fileId, long chatId, String originalName)
}
```

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –°–∫–∞—á–∏–≤–∞–µ—Ç —Ñ–∞–π–ª—ã –∏–∑ Telegram –ø–æ fileId
- –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤
- –°–æ–∑–¥–∞–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∏–º–µ–Ω–∞ —Ñ–∞–π–ª–æ–≤
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø–∞–ø–∫–∏

### **5. TelegramBot** - –û—Å–Ω–æ–≤–Ω–æ–π –∫–ª–∞—Å—Å (—É–ø—Ä–æ—â–µ–Ω–Ω—ã–π)
**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å:** –¢–æ–ª—å–∫–æ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –æ—Ç Telegram API

```java
@Component
public class TelegramBot extends TelegramLongPollingBot {
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ–º–∞–Ω–¥
    @PostConstruct
    void init()
    
    // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
    @Override
    public void onUpdateReceived(Update u)
    
    // –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–º–µ–Ω–∏ –±–æ—Ç–∞
    @Override
    public String getBotUsername()
}
```

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –ü–æ–ª—É—á–∞–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –æ—Ç Telegram API
- –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ç–∏–ø —Å–æ–æ–±—â–µ–Ω–∏—è
- –î–µ–ª–µ–≥–∏—Ä—É–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫—É —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º —Å–µ—Ä–≤–∏—Å–∞–º
- –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç –∫–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞

---

## üìà **–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞**

### **–î–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞:**
- **TelegramBot:** 436 —Å—Ç—Ä–æ–∫, 19 –º–µ—Ç–æ–¥–æ–≤
- **–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏:** 6 —Ä–∞–∑–Ω—ã—Ö –æ–±–ª–∞—Å—Ç–µ–π
- **–¢–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å:** –°–ª–æ–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å
- **–ß–∏—Ç–∞–µ–º–æ—Å—Ç—å:** –°–ª–æ–∂–Ω–æ –ø–æ–Ω—è—Ç—å –ª–æ–≥–∏–∫—É

### **–ü–æ—Å–ª–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞:**
- **TelegramBot:** 67 —Å—Ç—Ä–æ–∫, 3 –º–µ—Ç–æ–¥–∞ ‚úÖ
- **MessageHandler:** 150 —Å—Ç—Ä–æ–∫, 7 –º–µ—Ç–æ–¥–æ–≤ ‚úÖ
- **CommandHandler:** 120 —Å—Ç—Ä–æ–∫, 6 –º–µ—Ç–æ–¥–æ–≤ ‚úÖ
- **MessageSender:** 80 —Å—Ç—Ä–æ–∫, 4 –º–µ—Ç–æ–¥–∞ ‚úÖ
- **TelegramFileDownloader:** 100 —Å—Ç—Ä–æ–∫, 5 –º–µ—Ç–æ–¥–æ–≤ ‚úÖ

**–ò—Ç–æ–≥–æ:** 5 –∫–ª–∞—Å—Å–æ–≤, –∫–∞–∂–¥—ã–π —Å –æ–¥–Ω–æ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å—é ‚úÖ

---

## üéØ **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞**

### **1. –ü—Ä–∏–Ω—Ü–∏–ø –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ (SRP)**
- –ö–∞–∂–¥—ã–π –∫–ª–∞—Å—Å –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –æ–¥–Ω—É –æ–±–ª–∞—Å—Ç—å
- –õ–µ–≥–∫–æ –ø–æ–Ω—è—Ç—å –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ –∫–ª–∞—Å—Å–∞
- –ü—Ä–æ—â–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –∏ –∏–∑–º–µ–Ω—è—Ç—å

### **2. –£–ª—É—á—à–µ–Ω–Ω–∞—è —Ç–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å**
```java
@Test
void testMessageHandler() {
    // –õ–µ–≥–∫–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É —Å–æ–æ–±—â–µ–Ω–∏–π
    messageHandler.handleText(chatId, "https://youtube.com", "User");
}

@Test
void testCommandHandler() {
    // –õ–µ–≥–∫–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –∫–æ–º–∞–Ω–¥
    commandHandler.handleCommand(chatId, "/help", "User");
}
```

### **3. –õ—É—á—à–∞—è —á–∏—Ç–∞–µ–º–æ—Å—Ç—å**
- –ö–æ–¥ –ª–æ–≥–∏—á–µ—Å–∫–∏ —Ä–∞–∑–¥–µ–ª–µ–Ω
- –õ–µ–≥–∫–æ –Ω–∞–π—Ç–∏ –Ω—É–∂–Ω—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- –ü–æ–Ω—è—Ç–Ω—ã–µ –∏–º–µ–Ω–∞ –∫–ª–∞—Å—Å–æ–≤ –∏ –º–µ—Ç–æ–¥–æ–≤

### **4. –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å**
- –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —Ç–∏–ø—ã —Å–æ–æ–±—â–µ–Ω–∏–π
- –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã
- –õ–µ–≥–∫–æ –∏–∑–º–µ–Ω—è—Ç—å –ª–æ–≥–∏–∫—É –æ—Ç–ø—Ä–∞–≤–∫–∏

### **5. –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**
- `MessageSender` –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –¥—Ä—É–≥–∏—Ö —á–∞—Å—Ç—è—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- `TelegramFileDownloader` –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –¥—Ä—É–≥–∏—Ö –∑–∞–¥–∞—á
- `CommandHandler` –º–æ–∂–Ω–æ —Ä–∞—Å—à–∏—Ä—è—Ç—å –Ω–æ–≤—ã–º–∏ –∫–æ–º–∞–Ω–¥–∞–º–∏

---

## üîÑ **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤**

### **–í–Ω–µ–¥—Ä–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:**
```java
@Component
public class TelegramBot extends TelegramLongPollingBot {
    private final MessageHandler messageHandler;
    private final CommandHandler commandHandler;
    
    public TelegramBot(MessageHandler messageHandler, CommandHandler commandHandler) {
        this.messageHandler = messageHandler;
        this.commandHandler = commandHandler;
    }
}
```

### **–î–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏:**
```java
@Override
public void onUpdateReceived(Update u) {
    if (u.getMessage().hasText()) {
        String text = u.getMessage().getText();
        if (text.startsWith("/")) {
            commandHandler.handleCommand(chatId, text, name);  // –î–µ–ª–µ–≥–∏—Ä—É–µ–º –∫–æ–º–∞–Ω–¥—ã
        } else {
            messageHandler.handleText(chatId, text, name);     // –î–µ–ª–µ–≥–∏—Ä—É–µ–º —Å–æ–æ–±—â–µ–Ω–∏—è
        }
    }
    
    if (u.getMessage().hasVoice()) {
        messageHandler.handleVoice(chatId, u.getMessage().getVoice(), name);  // –î–µ–ª–µ–≥–∏—Ä—É–µ–º –≥–æ–ª–æ—Å
    }
}
```

### **–¶–µ–ø–æ—á–∫–∞ –≤—ã–∑–æ–≤–æ–≤:**
```
TelegramBot.onUpdateReceived()
    ‚Üì
MessageHandler.handleVoice()
    ‚Üì
MessageSender.sendMessage() + sendChatAction()
    ‚Üì
TelegramFileDownloader.downloadVoice()
    ‚Üì
TranscribeExecutor.run()
    ‚Üì
MessageSender.sendTranscript()
```

---

## üöÄ **–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏**

### **1. –î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç—ã**
```java
@SpringBootTest
class MessageHandlerTest {
    @Test
    void shouldExtractUrlsFromText() {
        // –¢–µ—Å—Ç –∏–∑–≤–ª–µ—á–µ–Ω–∏—è URL
    }
    
    @Test
    void shouldHandleVoiceMessage() {
        // –¢–µ—Å—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≥–æ–ª–æ—Å–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
    }
}
```

### **2. –î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é**
```java
@Component
public class MessageValidator {
    public void validateFileSize(long size, String type) {
        // –í–∞–ª–∏–¥–∞—Ü–∏—è —Ä–∞–∑–º–µ—Ä–∞ —Ñ–∞–π–ª–æ–≤
    }
    
    public void validateFileType(String fileName) {
        // –í–∞–ª–∏–¥–∞—Ü–∏—è —Ç–∏–ø–∞ —Ñ–∞–π–ª–æ–≤
    }
}
```

### **3. –î–æ–±–∞–≤–∏—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ**
```java
@Component
public class MessageCache {
    public void cacheUserPreference(long chatId, String preference) {
        // –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    }
}
```

---

## üìä **–û—Ü–µ–Ω–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞**

### **–î–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞:**
- **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:** 5/10 ‚ùå
- **–ß–∏—Ç–∞–µ–º–æ—Å—Ç—å:** 4/10 ‚ùå
- **–¢–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å:** 3/10 ‚ùå
- **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å:** 4/10 ‚ùå

### **–ü–æ—Å–ª–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞:**
- **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:** 9/10 ‚úÖ
- **–ß–∏—Ç–∞–µ–º–æ—Å—Ç—å:** 9/10 ‚úÖ
- **–¢–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å:** 8/10 ‚úÖ
- **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å:** 9/10 ‚úÖ

**–û–±—â–∞—è –æ—Ü–µ–Ω–∫–∞: 8.8/10** üöÄ

–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —É–ª—É—á—à–∏–ª –∫–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞ –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è!
